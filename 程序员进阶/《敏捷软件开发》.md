
# 《敏捷软件开发》

## 面向对象设计原则

- SRP 单一职责原则就一个类而言，应该有且仅有一个引起它变化的原因。
- OCP 开放-封闭原则软件实体（类、模块和函数等）应可以扩展，但不可修改。
- LSP 里氏替换原则子类型必须能替换掉它们的基本类型。


- ISP 接口隔离原则**不应该强迫客户依赖于它们不用的方法**。接口属于客户，不属于它所在的类层次结构。
- DIP 依赖倒置原则抽象不应该依赖于细节。细节应该依赖于抽象。
- REP 重用发布等价原则重用的粒度就是发布的粒度。


- CCP 共同重用原则一个包中的所有类应该是共同重用的。如果重用包中的一个类，那么就要重用包中的所有类。**相互之间没有紧密联系的类不应该在同一个包中。**
- CRP 共同封闭原则**一个包中所有的类对同一类性质的变化应该是共同封闭的**。一个变化若对一个包有影响，就会影响到包中所有的类，但不会影响到其他的包造成任何影响。


- ADP 无依赖原则**在包的依赖关系中不允许存在环**。细节不应该有其他依赖关系。
- SDP 稳定依赖原则**朝着稳定的方向进行依赖**。
- SAP 稳定抽象原则一个包的抽象程度应该和其他的保持一致。






# 《实现模式》- Kent Beck

## 一种编程理论

### **模式**


> 是编码的一些约束（force），众多的模式共同构筑了一种编程风格。

- 模式让你感觉到束手束脚，但可以帮你节省时间和精力，提高效率。
- 模式的种类繁多，众多模式构成了一种编程风格


### **价值观**


> 是编程过程中统一支配性主题，影响了我们在编程中所作的每个决策。

- **沟通**： 考虑“如果别人看到这段代码会怎么想”， 让代码尽可能通俗易懂。
- **简单**： 去掉多余的复杂性，精简代码，删去冗余逻辑。
- **灵活**： 灵活性的提高可能以复杂性的提高为代价。


### **原则**


> 原则是模式和价值观之间搭建的桥梁，在遇到没有现有模式可以解决的问题的时候，原则往往可以让我们“无中生有”的创造一些东西，而这些东西往往都是很不错的。

- 局部化影响： 修改A不影响B
- 最小化重复： 抽取相同逻辑
- 将逻辑和数据捆绑？？
- 对称性： add-remove、addObserver-removeObserver
- 声明式表达： 顾名思义，好的命名本身就是一种注释
- 变化率： Point(x, y) 相关的变量要放到一起，同步变化


**模式描述了要做什么，价值观提供了动机，原则把动机转化成了实际行动。**



### 动机

软件设计应该致力于减少整体成本。
-  经过统计，人们发现，维护成本远远高于初始成本。
-  因为理解现有代码需要耗费很多时间，而且容易出错，改动之后还需要重新测试和部署。
-  通过合理的模式的使用，可以降低经济成本。


### 类

1. 类的命名： 类的名字应该简明扼要， 简短而有变现力。 可以大大增加理解代码的容易度。
2. 针对接口编程，不诊断实现编程。
3. 重复代码考虑抽取到公共父类或者工具类中。
4. 内部类和匿名内部类： 内部类被实例化之后，会获得创建它的外部类对象的引用， 可以直接访问后者的数据而不用建立额外的连接。 这种对象持有操作有内存泄漏的风险。