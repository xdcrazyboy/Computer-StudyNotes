# Java的集合

[TOC]

## 分类、类别

概述： Collection和Map两个大接口，然后：

## 泛型

### <? super T>和<? extends T> 

-  **List<?>**是一个泛型，在没有赋值之前， 表示它可以**接受任何类型的集合赋值**，赋值之后就**不能随便往里添加元素**了。
   -  它被称为通配符集合。 但可以 remove 和 clear, 并非 immutable 集合。 
   -  List<?>一般作为参数来接收外部的集合，或者返回一个不知道 具体元素类型的集合。

-  **List<T>**只能放置一种类型， 如果随意转换类型的话，就是“破窗理论”，泛型就失去了类型安全的意义。
-  <? extends T>与<? super T>可以放置多种受泛型约束的类型。

**它们的区别**：
- **<? extends T>**: 
  - Get First， 适用于消费集合元素为主的场景；只读取的用这个，因为除了null，无法新增其他元素。
  - 可以赋值给任何 T 及 T 子类的集合， 上界为 T; 
  - 取出来的类型带有泛型限制， 向上强制转型为T。 
  - null 可以表示任何类型，所以除 null 外，任何元素都不得添加进<? extends T> 集合内。
  - List<? extends Cat> 可以返回带类型的元素，但 只能返回 Cat 自身及其父类对象，因为子类类型被擦除了

- **<? super T>** : 
  - Put First，适用于，生产集合元素为主的场景。 
  - 可以赋值给任何 T 及 T 的父类集合，下界为 T，也就是**下限通配**，也就是将泛型类型参数限制为**T或T的某个父类**，直到 Object。
  - List<? super Cat> 可以往里增加元素，但只能添加 Cat自身及子类对象；



